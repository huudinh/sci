const fireworksData=[{left:"15%",color:"#FF4C4C",explosionType:"circle",size:"large",launchTime:0},{left:"70%",color:"#FFD24C",explosionType:"star",size:"medium",launchTime:0},{left:"30%",color:"#5ECFFF",explosionType:"double-spiral",size:"small",launchTime:3e3},{left:"80%",color:"#7DFF5E",explosionType:"wave",size:"large",launchTime:3e3},{left:"25%",color:"#C15EFF",explosionType:"heart",size:"medium",launchTime:6e3},{left:"50%",color:"#FF4CF6",explosionType:"swirl",size:"medium",launchTime:6e3},{left:"75%",color:"#FFF44C",explosionType:"heart",size:"small",launchTime:6e3},{left:"20%",color:"#FF964C",explosionType:"flower",size:"large",launchTime:1e4},{left:"70%",color:"#4CFFB7",explosionType:"random-burst",size:"small",launchTime:1e4},{left:"40%",color:"#4CDAFF",explosionType:"random-burst",size:"medium",launchTime:13e3},{left:"60%",color:"#F64CFF",explosionType:"spiral",size:"large",launchTime:13e3},{left:"85%",color:"#FF4C7D",explosionType:"star",size:"small",launchTime:13e3},{left:"15%",color:"#4CFF4C",explosionType:"triple-star",size:"large",launchTime:16e3},{left:"30%",color:"#A14CFF",explosionType:"random-burst",size:"medium",launchTime:16e3},{left:"80%",color:"#FFB74C",explosionType:"circle",size:"small",launchTime:16e3},{left:"25%",color:"#FF4C4C",explosionType:"flower",size:"small",launchTime:2e4},{left:"50%",color:"#FFD24C",explosionType:"heart",size:"medium",launchTime:2e4},{left:"75%",color:"#5ECFFF",explosionType:"ring-of-rings",size:"large",launchTime:2e4},{left:"10%",color:"#7DFF5E",explosionType:"random-burst",size:"small",launchTime:23e3},{left:"40%",color:"#C15EFF",explosionType:"spiral",size:"medium",launchTime:23e3},{left:"90%",color:"#FF4CF6",explosionType:"swirl",size:"large",launchTime:23e3},{left:"20%",color:"#FFF44C",explosionType:"flurry",size:"large",launchTime:26e3},{left:"75%",color:"#FF964C",explosionType:"random-burst",size:"medium",launchTime:26e3},{left:"15%",color:"#4CFFB7",explosionType:"wave",size:"small",launchTime:3e4},{left:"60%",color:"#4CDAFF",explosionType:"triple-star",size:"large",launchTime:3e4},{left:"80%",color:"#F64CFF",explosionType:"heart",size:"medium",launchTime:3e4},{left:"25%",color:"#FF4C7D",explosionType:"random-burst",size:"medium",launchTime:33e3},{left:"50%",color:"#4CFF4C",explosionType:"star",size:"small",launchTime:33e3},{left:"70%",color:"#A14CFF",explosionType:"double-spiral",size:"large",launchTime:33e3},{left:"15%",color:"#FFB74C",explosionType:"flower",size:"medium",launchTime:37e3},{left:"40%",color:"#FF4C4C",explosionType:"random-burst",size:"small",launchTime:37e3},{left:"85%",color:"#FFD24C",explosionType:"heart",size:"large",launchTime:37e3},{left:"10%",color:"#5ECFFF",explosionType:"ring-of-rings",size:"medium",launchTime:4e4},{left:"45%",color:"#7DFF5E",explosionType:"wave",size:"small",launchTime:4e4},{left:"80%",color:"#C15EFF",explosionType:"spiral",size:"large",launchTime:4e4},{left:"20%",color:"#FF4CF6",explosionType:"swirl",size:"medium",launchTime:43e3},{left:"75%",color:"#FFF44C",explosionType:"flurry",size:"large",launchTime:43e3},{left:"30%",color:"#FF964C",explosionType:"double-spiral",size:"large",launchTime:47e3},{left:"70%",color:"#4CFFB7",explosionType:"wave",size:"medium",launchTime:47e3},{left:"50%",color:"#4CDAFF",explosionType:"triple-star",size:"small",launchTime:47e3},{left:"25%",color:"#F64CFF",explosionType:"heart",size:"medium",launchTime:5e4},{left:"60%",color:"#FF4C7D",explosionType:"random-burst",size:"large",launchTime:5e4},{left:"85%",color:"#4CFF4C",explosionType:"random-burst",size:"small",launchTime:5e4},{left:"10%",color:"#A14CFF",explosionType:"ring-of-rings",size:"large",launchTime:53e3},{left:"40%",color:"#FFB74C",explosionType:"circle",size:"small",launchTime:53e3},{left:"15%",color:"#FF4C4C",explosionType:"spiral",size:"small",launchTime:56e3},{left:"75%",color:"#FFD24C",explosionType:"flurry",size:"medium",launchTime:56e3},{left:"20%",color:"#5ECFFF",explosionType:"triple-star",size:"medium",launchTime:59e3},{left:"50%",color:"#7DFF5E",explosionType:"wave",size:"large",launchTime:59e3},{left:"80%",color:"#C15EFF",explosionType:"double-spiral",size:"small",launchTime:59e3},{left:"10%",color:"#FF4CF6",explosionType:"random-burst",size:"large",launchTime:62e3},{left:"25%",color:"#FFF44C",explosionType:"ring-of-rings",size:"large",launchTime:62e3},{left:"40%",color:"#FF964C",explosionType:"triple-star",size:"large",launchTime:62e3},{left:"55%",color:"#4CFFB7",explosionType:"heart",size:"large",launchTime:62e3},{left:"70%",color:"#4CDAFF",explosionType:"double-spiral",size:"large",launchTime:62e3},{left:"85%",color:"#F64CFF",explosionType:"star",size:"large",launchTime:62e3},{left:"95%",color:"#FF4C7D",explosionType:"flurry",size:"large",launchTime:62e3}];function launchRocket(container,{left:left,color:color,explosionType:explosionType,size:size}){const rocketEl=document.createElement("div");rocketEl.className="firework-rocket",rocketEl.style.left=left;const rocketInner=document.createElement("div");rocketInner.className="firework-rocket-inner",rocketInner.style.backgroundColor=color,rocketEl.appendChild(rocketInner),container.appendChild(rocketEl);const apex=40+40*Math.random(),travelTime=1500+500*Math.random();rocketEl.animate([{transform:"translate(-50%, 0)"},{transform:`translate(-50%, -${apex}vh)`}],{duration:travelTime,easing:"ease-out",fill:"forwards"});const trailInterval=setInterval(()=>{createSpark(container,rocketEl,color)},60);setTimeout(()=>{clearInterval(trailInterval),explode(container,rocketEl,color,explosionType,size)},travelTime)}function explode(container,rocketEl,color,explosionType,size){const rect=rocketEl.getBoundingClientRect(),centerX=rect.left+rect.width/2,centerY=rect.top+rect.height/2;let fragmentCount;rocketEl.remove(),fragmentCount="small"===size?30:"large"===size?80:50;const pattern=getExplosionPattern(explosionType);for(let i=0;i<fragmentCount;i++){const angle=pattern.angles&&pattern.angles.length?pattern.angles[i%pattern.angles.length]:2*Math.random()*Math.PI,magnitude=pattern.magnitude&&pattern.magnitude.length?pattern.magnitude[i%pattern.magnitude.length]:1;createFragment(container,centerX,centerY,color,angle,size,magnitude)}}function createFragment(container,x,y,color,angle,size,magnitude){const fragment=document.createElement("div");fragment.className="firework-fragment",fragment.style.backgroundColor=color,fragment.style.left=`${x}px`,fragment.style.top=`${y}px`,container.appendChild(fragment);const baseVelocity="small"===size?2:"large"===size?4:3,velocity=baseVelocity*magnitude,offsetX=Math.cos(angle)*velocity*100,offsetY=Math.sin(angle)*velocity*100,duration=2e3+800*Math.random();fragment.animate([{transform:"translate(0,0) scale(1)",opacity:1},{transform:`translate(${offsetX}px, ${offsetY}px) scale(0.3)`,opacity:0}],{duration:duration,easing:"ease-out",fill:"forwards"}),setTimeout(()=>{fragment.remove()},duration+100)}function getExplosionPattern(type){if("circle"===type){const angles=Array.from({length:30},(_,i)=>i/30*2*Math.PI);return{angles:angles}}if("star"===type){const angles=[];for(let i=0;i<15;i++)angles.push(i/15*2*Math.PI),angles.push((i+.2)/15*2*Math.PI);return{angles:angles}}if("double-spiral"===type){const angles=[];for(let i=0;i<40;i++)angles.push(i/10*Math.PI);const magnitude=angles.map((val,idx)=>idx%2==0?1:2);return{angles:angles,magnitude:magnitude}}if("cross"===type){const baseAngles=[0,Math.PI/2,Math.PI,3*Math.PI/2],repeated=[],repeats=10;for(let r=0;r<repeats;r++)repeated.push(...baseAngles);return{angles:repeated}}if("swirl"===type){const angles=[];for(let i=0;i<60;i++)angles.push(.2*i);const magnitude=angles.map((_,i)=>.5+.05*i);return{angles:angles,magnitude:magnitude}}if("flower"===type){const angles=[],magnitude=[];for(let i=0;i<36;i++)angles.push(2*Math.PI*i/36),magnitude.push(i%2==0?1.2:.7);return{angles:angles,magnitude:magnitude}}if("heart"===type){const angles=[];for(let i=0;i<50;i++){const t=i/25*Math.PI;angles.push(t)}const magnitude=angles.map(()=>1+1*Math.random());return{angles:angles,magnitude:magnitude}}if("ring-of-rings"===type){const angles=[],magnitude=[];for(let ring=1;ring<=3;ring++)for(let i=0;i<20;i++)angles.push(2*Math.PI*i/20),magnitude.push(ring);return{angles:angles,magnitude:magnitude}}if("diamond"===type){const baseAngles=[Math.PI/4,3*Math.PI/4,5*Math.PI/4,7*Math.PI/4],angles=[];for(let i=0;i<10;i++)angles.push(...baseAngles);return{angles:angles}}if("hexagon"===type){const angles=[],baseAngles=[0,Math.PI/3,2*Math.PI/3,Math.PI,4*Math.PI/3,5*Math.PI/3];for(let i=0;i<10;i++)angles.push(...baseAngles);return{angles:angles}}if("spiral"===type){const angles=[];for(let i=0;i<50;i++)angles.push(.3*i);const magnitude=angles.map((_,i)=>.4+.1*i);return{angles:angles,magnitude:magnitude}}if("flurry"===type){const angles=Array.from({length:60},()=>2*Math.random()*Math.PI),magnitude=angles.map(()=>.5+1.5*Math.random());return{angles:angles,magnitude:magnitude}}if("triple-star"===type){const angles=[];for(let s=0;s<3;s++)for(let i=0;i<15;i++)angles.push(i/15*2*Math.PI),angles.push((i+.2)/15*2*Math.PI);return{angles:angles}}if("random-burst"===type){const angles=Array.from({length:50},()=>2*Math.random()*Math.PI),magnitude=Array.from({length:50},()=>.5+2*Math.random());return{angles:angles,magnitude:magnitude}}if("wave"===type){const angles=[],magnitude=[];for(let i=0;i<40;i++){const a=i/40*2*Math.PI;angles.push(a),magnitude.push(1+Math.sin(4*a))}return{angles:angles,magnitude:magnitude}}const angles=Array.from({length:30},()=>2*Math.random()*Math.PI),magnitude=Array.from({length:30},()=>.5+1.5*Math.random());return{angles:angles,magnitude:magnitude}}function launchGrandFinaleRocket(container){const left="50%",color="#FFFFFF",rocketEl=document.createElement("div");rocketEl.className="firework-rocket",rocketEl.style.left=left;const rocketInner=document.createElement("div");rocketInner.className="firework-rocket-inner",rocketInner.style.backgroundColor=color,rocketEl.appendChild(rocketInner),container.appendChild(rocketEl);const driftX=40*(Math.random()-.5),travelTime=2200;rocketEl.animate([{offset:0,transform:"translate(-50%, 0)"},{offset:.3,transform:`translate(calc(-50% + ${driftX/2}px), -20vh)`},{offset:.6,transform:`translate(calc(-50% + ${driftX}px), -45vh)`},{offset:1,transform:"translate(-50%, -70vh)"}],{duration:2200,easing:"cubic-bezier(0.25, 0.45, 0.45, 0.95)",fill:"forwards"});const trailInterval=setInterval(()=>{createSpark(container,rocketEl,color)},60);setTimeout(()=>{clearInterval(trailInterval),bigSlowExplosion(container,rocketEl)},2200)}function createSpark(container,rocketEl,color){const rect=rocketEl.getBoundingClientRect(),centerX=rect.left+rect.width/2,centerY=rect.top+rect.height/2,spark=document.createElement("div");spark.className="firework-spark",spark.style.backgroundColor=color,spark.style.left=`${centerX}px`,spark.style.top=`${centerY}px`,container.appendChild(spark),spark.animate([{transform:"translate(0,0)",opacity:1},{transform:"translate(0, 15px)",opacity:0}],{duration:500,easing:"ease-out",fill:"forwards"}),setTimeout(()=>{spark.remove()},600)}function bigSlowExplosion(container,rocketEl){const rect=rocketEl.getBoundingClientRect(),centerX=rect.left+rect.width/2,centerY=rect.top+rect.height/2;rocketEl.remove();const fragmentCount=500;for(let i=0;i<500;i++){const angle=2*Math.random()*Math.PI,radius=300+400*Math.random(),rainDistance=700+500*Math.random(),targetX=Math.cos(angle)*radius,targetY=Math.sin(angle)*radius,fragment=document.createElement("div");fragment.className="firework-fragment",fragment.style.backgroundColor="#FFFFFF",fragment.style.left=`${centerX}px`,fragment.style.top=`${centerY}px`,fragment.style.width="3px",fragment.style.height="3px",fragment.style.borderRadius="50%",container.appendChild(fragment);const animDuration=12e3+6e3*Math.random(),rotateStart=0,rotateEnd=0;fragment.animate([{offset:0,transform:`translate(0,0) scale(0) rotate(${rotateStart}deg)`,opacity:0},{offset:.1,transform:`translate(${.8*targetX}px, ${.8*targetY}px)\n                      scale(2) rotate(${rotateStart}deg)`,opacity:1},{offset:.2,transform:`translate(${targetX}px, ${targetY}px)\n                      scale(1.7) rotate(${rotateEnd}deg)`,opacity:1},{offset:.35,transform:`translate(${targetX}px, ${targetY+.1*rainDistance}px)\n                      scale(1.3) rotate(${rotateEnd}deg)`,opacity:.95},{offset:.5,transform:`translate(${targetX}px, ${targetY+.3*rainDistance}px)\n                      scale(1.1) rotate(${rotateEnd}deg)`,opacity:.8},{offset:.65,transform:`translate(${targetX}px, ${targetY+.55*rainDistance}px)\n                      scale(0.9) rotate(${rotateEnd}deg)`,opacity:.6},{offset:.8,transform:`translate(${targetX}px, ${targetY+.8*rainDistance}px)\n                      scale(0.8) rotate(${rotateEnd}deg)`,opacity:.3},{offset:1,transform:`translate(${targetX}px, ${targetY+rainDistance}px)\n                      scale(0.6) rotate(${rotateEnd}deg)`,opacity:0}],{duration:animDuration,easing:"cubic-bezier(0.25, 0.5, 0.25, 1)",fill:"forwards"}),setTimeout(()=>{fragment.remove()},animDuration+500)}}document.addEventListener("DOMContentLoaded",(function(){const container=document.createElement("div");container.id="fireworks-container",document.body.appendChild(container),fireworksData.forEach(data=>{setTimeout(()=>{launchRocket(container,data)},data.launchTime)});const maxLaunchTime=Math.max(...fireworksData.map(d=>d.launchTime)),finaleTime=maxLaunchTime+4e3;setTimeout(()=>{launchGrandFinaleRocket(container)},finaleTime)}));