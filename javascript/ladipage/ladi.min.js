const getLocation=async()=>{const response=await fetch("https://geolocation-db.com/json/"),data=await response.json();return data};function getParam(p){var match=RegExp("[?&]"+p+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))}function addToStorage(key,value){var expiryPeriod=7776e6,expiryDate,record={value:value,expiryDate:(new Date).getTime()+7776e6};localStorage.setItem(key,JSON.stringify(record))}function storeGclid(){var gclidParam=getParam("gclid");gclidParam&&addToStorage("gclid",gclidParam)}function addGclid(){storeGclid();var gclidFormFieldList=document.querySelectorAll('input[name="referred"]'),currDate=(new Date).getTime(),gclsrcParam=getParam("gclsrc"),isGclsrcValid=!gclsrcParam||-1!==gclsrcParam.indexOf("aw"),gclid=JSON.parse(localStorage.getItem("gclid")),isGclidValid=gclid&&currDate<gclid.expiryDate;if(gclidFormFieldList&&isGclidValid&&isGclsrcValid)for(let i=0;i<gclidFormFieldList.length;i++)gclidFormFieldList[i].value=gclid.value}window.addEventListener("load",addGclid),function addInput(){let firstLinkFieldList=document.querySelectorAll('input[name="first_link"]'),locationFieldList=document.querySelectorAll('input[name="location"]'),websiteReferFieldList=document.querySelectorAll('input[name="website"]');if(firstLinkFieldList)for(let i=0;i<firstLinkFieldList.length;i++)firstLinkFieldList[i].value=window.location.href;if(locationFieldList)for(let i=0;i<locationFieldList.length;i++)getLocation().then(data=>{locationFieldList[i].value=data.city});let refer=document.referrer;if(refer||(refer="website"),websiteReferFieldList)for(let i=0;i<websiteReferFieldList.length;i++)websiteReferFieldList[i].value=refer}();